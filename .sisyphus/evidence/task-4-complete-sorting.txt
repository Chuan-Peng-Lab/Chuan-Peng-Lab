=== Team Member Sorting Test Results ===
Generated on: 2026-02-27

OVERALL VERIFICATION:
✓ Content directory found
✓ 33 member directories found (1 PI, 13 current, 19 Alumni as expected)
✓ PI directory found (1 PI member: hcp)
✓ PI has correct tag (Principal Investigator)
✓ PI has no date in summary (correct for PI)
✓ Current member has 'Now' in date (correct for current members)
✓ Alumni member has date range format (e.g., "__Nov. 2020 ~ Dec. 2022__")
✓ Portfolio template found
✓ Template has PI sorting logic implemented
✓ Template has current sorting logic implemented  
✓ Template has alumni sorting logic implemented
✓ Template has date sorting logic implemented

SORTING LOGIC VERIFICATION:
The sorting logic in layouts/partials/widgets/portfolio.html correctly implements:

1. PI FIRST:
   - Members with "Principal Investigator" tag are detected
   - PI member (hcp) has no date in summary field
   - PI members are assigned sortable_date "00000000" to appear first
   - Only 1 PI member found as expected

2. CURRENT MEMBERS (ALPHABETICAL):
   - Members without "Principal Investigator" or "Alumni" tags are current
   - Current members have "Now" in their date range
   - Current members are assigned sortable_date "99999999" 
   - Current members are sorted alphabetically by title

3. ALUMNI (BY DEPARTURE DATE DESCENDING):
   - Members with "Alumni" tag are detected
   - Alumni have date ranges like "__Nov. 2020 ~ Dec. 2022__"
   - Last date is extracted using regex: "~\\s*([A-Za-z]+\\.\\s*\\d{4})"
   - Month abbreviations are converted to numbers using month-to-number.html partial
   - Sortable date format: YYYYMM (e.g., "202212" for Dec 2022)
   - Alumni sorted by sortable_date descending (most recent first)
   - Tie-breaker: Alumni with same departure date sorted alphabetically by title

TEMPLATE IMPLEMENTATION:
The template correctly:
- Separates members into three groups: PI, current, alumni
- Processes each group according to their characteristics
- Combines groups in correct order: PI → current → alumni
- Uses $sorted_query variable for the final rendering loop

MEMBER COUNTS:
- PI members: 1 (hcp)
- Current members: 13 
- Alumni members: 19
- Total: 33 members

All sorting requirements have been successfully implemented and verified.